{
    "project": "Configurable System Prompts",
    "branchName": "ralph/configurable-prompts",
    "description": "Extract hardcoded system prompts from Python code into external .txt files in backend/system_prompts/.",
    "userStories": [
        {
            "id": "US-001",
            "title": "Create Prompt File Structure",
            "description": "As a developer, I want a dedicated folder for system prompts so that I can easily find and edit them.",
            "acceptanceCriteria": [
                "Create `backend/system_prompts/` directory",
                "Create prompt files: orchestrator.txt, aci.txt, infoblox.txt, palo_alto.txt, triage.txt",
                "Each file contains appropriate default prompt text",
                "Typecheck passes"
            ],
            "priority": 1,
            "passes": true,
            "notes": "Created backend/system_prompts/ with orchestrator.txt, aci.txt, infoblox.txt, palo_alto.txt, triage.txt"
        },
        {
            "id": "US-002",
            "title": "Implement Prompt Loading Utility",
            "description": "As a developer, I want a utility function to load prompts from files so that agents can use external configurations.",
            "acceptanceCriteria": [
                "Add `load_system_prompt(agent_name: str) -> str` function to config.py",
                "Function looks for `backend/system_prompts/{agent_name}.txt`",
                "If file not found, logs warning and returns hardcoded default",
                "Typecheck passes"
            ],
            "priority": 2,
            "passes": true,
            "notes": "Added load_system_prompt() with Path-based resolution, DEFAULT_PROMPTS fallback dict, and logging"
        },
        {
            "id": "US-003",
            "title": "Update Orchestrator to Use Configurable Prompt",
            "description": "As a developer, I want the orchestrator to load its prompt from config so that I can customize its behavior.",
            "acceptanceCriteria": [
                "Orchestrator uses `load_system_prompt('orchestrator')`",
                "Falls back to current behavior if file missing",
                "Typecheck passes"
            ],
            "priority": 3,
            "passes": true,
            "notes": "Updated orchestrator.py to use load_system_prompt('orchestrator') instead of config.system_prompt"
        },
        {
            "id": "US-004",
            "title": "Update Sub-Agents with Configurable Prompts",
            "description": "As a developer, I want sub-agents (ACI, Infoblox, Palo Alto) to use configurable system prompts.",
            "acceptanceCriteria": [
                "Each sub-agent uses `load_system_prompt()` for its prompt",
                "Pass system prompt to `create_react_agent()` via `prompt` parameter",
                "Falls back to default if file missing",
                "Typecheck passes"
            ],
            "priority": 4,
            "passes": true,
            "notes": "Updated aci.py, infoblox.py, palo_alto.py to use load_system_prompt() and create_react_agent(state_modifier=system_prompt)"
        },
        {
            "id": "US-005",
            "title": "Update Triage Agent with Configurable Prompt",
            "description": "As a developer, I want the triage agent to use a configurable system prompt.",
            "acceptanceCriteria": [
                "Triage agent uses `load_system_prompt('triage')`",
                "Falls back to current hardcoded prompt if file missing",
                "Typecheck passes"
            ],
            "priority": 5,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-006",
            "title": "Add Unit Tests for Prompt Loading",
            "description": "As a developer, I want tests to verify prompt loading behavior.",
            "acceptanceCriteria": [
                "Test loading existing prompt file returns content",
                "Test loading missing file returns default and logs warning",
                "All tests pass",
                "Typecheck passes"
            ],
            "priority": 6,
            "passes": false,
            "notes": ""
        },
        {
            "id": "US-007",
            "title": "Update backend/readme on how to use this new feature.",
            "description": "As a developer, I want know how to edit the system prompts.",
            "acceptanceCriteria": [
                "Readme updated with instructions on how to edit the system prompts."
            ],
            "priority": 7,
            "passes": false,
            "notes": ""
        }
    ]
}